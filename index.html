<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>大自在王佛讚頌與六大心法</title>
    <style>
        :root {
            --gold: #d4af37;
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
        }
        * { box-sizing: border-box; }
        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        header {
            text-align: center;
            padding: 35px 15px;
            border-bottom: 2px solid var(--gold);
            width: 100%;
            max-width: 800px;
        }
        h1 { font-size: 1.4rem; color: var(--gold); letter-spacing: 2px; margin: 0 0 10px 0; line-height: 1.3; }
        .subtitle { font-size: 1.1rem; color: #aaa; margin: 0; }
        
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            padding: 20px;
            width: 100%;
            max-width: 800px;
        }
        @media (min-width: 480px) {
            .menu-grid { grid-template-columns: 1fr 1fr; }
            h1 { font-size: 1.8rem; }
        }

        .menu-item {
            background: var(--card-bg);
            border: 1px solid #444;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            border-radius: 10px;
            font-size: 1.1rem;
            color: var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 65px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.4);
        }
        .menu-item:hover { background: var(--gold); color: black; transform: translateY(-2px); }

        #content-page {
            display: none;
            width: 100%;
            max-width: 800px;
            padding: 20px 15px;
        }
        .content-body {
            background: var(--card-bg);
            padding: 25px;
            line-height: 1.9;
            border-radius: 12px;
            white-space: pre-wrap;
            font-size: 1.1rem;
            word-wrap: break-word;
            margin-bottom: 20px;
            border-left: 4px solid var(--gold);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            width: 100%;
            min-height: 50px;
        }
        .controls button {
            flex: 1; 
            max-width: 140px;
            padding: 12px 0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .btn-play { background-color: #2e7d32; color: white; }
        .btn-pause { background-color: #f9a825; color: black; }
        .btn-stop { background-color: #c62828; color: white; }
        
        .hidden { display: none !important; }

        .btn-back { 
            background-color: #546e7a; 
            color: white; 
            width: 100%; 
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
        }
        footer { margin-top: auto; padding: 25px; font-size: 0.85rem; opacity: 0.5; text-align: center; color: var(--gold); }
    </style>
</head>
<body>

    <div id="home-page" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <header>
            <h1>大自在王佛讚頌與六大心法</h1>
            <p class="subtitle">佛乘宗法要序</p>
        </header>
        <div class="menu-grid">
            <div class="menu-item" onclick="showPage('king')">大自在王佛讚頌</div>
            <div class="menu-item" onclick="showPage('nine')">九字禪</div>
            <div class="menu-item" onclick="showPage('tenOne')">十大一如</div>
            <div class="menu-item" onclick="showPage('tenHeart')">十無量相應心品</div>
            <div class="menu-item" onclick="showPage('fiveTreasures')">皈依五寶</div>
            <div class="menu-item" onclick="showPage('repentance')">禮佛拜懺</div>
            <div class="menu-item" onclick="showPage('rules')">門規與密囑</div>
            <div class="menu-item" onclick="showPage('preface')">佛乘宗法要序</div>
        </div>
    </div>

    <div id="content-page">
        <h2 id="page-title-display" style="color: var(--gold); text-align: center; font-size: 1.4rem; margin-top: 5px;"></h2>
        <div class="controls">
            <button id="playBtn" class="btn-play" onclick="speak()">▶ 播放</button>
            <button id="pauseBtn" class="btn-pause hidden" onclick="pause()">⏸ 暫停</button>
            <button id="stopBtn" class="btn-stop" onclick="stop()">⏹ 停止</button>
        </div>
        <div id="page-content" class="content-body"></div>
        <button class="btn-back" onclick="goHome()">回首頁</button>
    </div>

    <footer>願法界眾生 同證佛果</footer>

    <script>
        const data = {
            king: { title: "大自在王佛讚頌", content: "【大自在王佛讚頌】\n大自在王佛為眾生佛性之本元，諸佛法身之總理體，統物理界、精神界之一如。法界萬有皆由之變易生化而然，其身心體、相、智、德、理、事、能、用、時、空之十大一如，與法界同一理量。" },
            nine: { title: "九字禪", content: "【九字禪】\n南無：華譯歸命、敬禮、歸依、救我、度我等義。\n本師：本性，即自性，即佛性，即法性。\n大：體、相、智、德、理、事、能、用、時、空，與法界同一理量。\n自在：萬法拘束不得，圓融精神與物質世界，無礙解脫自在。\n王：一切佛之自性法身。\n佛：證悟法界萬有一切事理實相，自覺覺他，覺行圓滿。" },
            tenOne: { title: "十大一如", content: "【十大一如】\n體大：心物一如。相大：自他一如。智大：理事一如。德大：慈悲一如。理大：萬法一如。事大：福慧一如。能大：質能一如。用大：顯隱一如。時大：三世一如。空大：大小一如。" },
            tenHeart: { title: "十無量相應心品", content: "【十無量相應心品】\n一、慈悲心：大慈大悲度眾生。\n二、平等心：眾生佛性本平等。\n三、捨離心：捨離三界貪瞋癡。\n四、精進心：萬法唯心常精進。\n五、歡喜心：得大自在心歡喜。\n六、謙和心：心同法界眾和合。\n七、報恩心：飲水思源銘心田。\n八、法忍心：無生法忍入佛地。\n九、無畏心：萬德莊嚴大無畏。\n十、圓覺心：常樂我淨法身圓。" },
            fiveTreasures: { title: "皈依五寶", content: "【皈依五寶】\n佛、法、僧、師、自性。" },
            repentance: { 
                title: "禮佛拜懺文", 
                content: "【禮佛拜懺文】\n一心圓法界，感應遍十方，謹以戒定慧心香，普供養十方三世諸佛菩薩。\n弟子○無始劫來，因貪瞋癡所造身語意惡業，今深自覺悟，罪性本空，趣向真如，祈求大慈大悲威德力加持，三業頓淨，圓證菩提。\n南無本師大自在王佛\n南無本師大自在王佛\n南無本師大自在王佛" 
            },
            rules: { title: "門規與密囑", content: "【門規】\n第一條：尊師重道，護持五寶。\n第二條：慈悲平等，普度眾生。\n第三條：自立活命，奉獻公益。\n第四條：遵行門規，光大本門。\n\n【密囑】\n第一項：每月將收入一部分捐獻。\n第二項：修行密法不得超傳。" },
            preface: { title: "佛乘宗法要序", content: "【佛乘宗法要序】\n以此無念之念，念念不離眾生。\n住無相之相，法法不離自性。\n勿繫塵勞，精進歡喜。\n篤行門規，佛道自成。" }
        };

        const synth = window.speechSynthesis;
        let utterance = null;
        let isLooping = false;

        function showPage(id) {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('content-page').style.display = 'block';
            document.getElementById('page-title-display').innerText = data[id].title;
            document.getElementById('page-content').innerText = data[id].content;
            window.scrollTo(0,0);
            stop();
        }

        function goHome() {
            stop();
            document.getElementById('home-page').style.display = 'flex';
            document.getElementById('content-page').style.display = 'none';
        }

        function speak() {
            if (synth.speaking && synth.paused) {
                synth.resume();
                updateButtons(true);
                return;
            }
            stopSpeechOnly();
            isLooping = true;
            const text = document.getElementById('page-content').innerText;
            utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-TW';
            utterance.rate = 0.88; 
            utterance.onend = function() {
                if (isLooping) { speak(); } else { updateButtons(false); }
            };
            synth.speak(utterance);
            updateButtons(true);
        }

        function pause() {
            if (synth.speaking) {
                synth.pause();
                updateButtons(false);
            }
        }

        function stop() {
            isLooping = false;
            synth.cancel();
            updateButtons(false);
        }

        function stopSpeechOnly() {
            synth.cancel();
        }

        function updateButtons(isPlaying) {
            const playBtn = document.getElementById('playBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            if (isPlaying) {
                playBtn.classList.add('hidden');
                pauseBtn.classList.remove('hidden');
            } else {
                playBtn.classList.remove('hidden');
                pauseBtn.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
